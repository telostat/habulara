name: Latest Weather Figures
description: >
  This is a simple example that consumes a CSV with following fields:

  1. **id:** ID of the location
  2. **name:** Name of the location
  3. **temperature:** Temperature of the location in degree Celcius
  4. **precipitation:** Probability of precipitation for the location as a number between 0 and 1.

  ... and produces a CSV with following fields:

  1. **code:** Idenfifier code of the location (same as **id** in the original input)
  2. **name:** Name of the location (no operation is defined, ie. pass-through)
  3. **temperatureC:** Temperature of the location in degree Celcius
  4. **temperatureF:** Temperature of the location in degree Fahrenheit
  5. **precipitation:** Probability of precipitation for the location as percentage points.

  ... whereby

  - both **temperatureF** and **precipitation** are computed values, and
  - **temperatureC** is a type-guarded value.
delimiter: ","
fields:
  - label: code
    title: Code
    description: Identifier code of the location.
    operation:
      - name: select
        args: ["id"]
  - label: name
    title: Name
    description: Name of the location.
  - label: temperatureC
    title: Temperature (°C)
    description: Temperature of the location in degree Celcius.
    operation:
      - name: select
        args: ["temperature"]
      - name: "asNumber"
  - label: temperatureF
    title: Temperature (°F)
    description: Temperature of the location in degree Fahrenheit.
    operation:
      - name: select
        args: ["temperature"]
      - name: asNumber
      - name: multiply
        args: [9]
      - name: flipDivide
        args: [5]
      - name: add
        args: [32]
  - label: precipitation
    title: Precipitation
    description: Probability of precipitation in percentage points.
    operation:
      - name: select
        args: ["precipitation"]
      - name: asNumber
      - name: percentage
